<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/images/soul_society_logo.png" type="image/x-icon">
  <title>Media Tracker</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="mediatracker.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <div class="nav-container">
      <a href="/" class="home-link"><i class="fas fa-home"></i> Home</a>
      <a href="/social/" class="other-link"><i class="fas fa-comments"></i> Social Feed</a>
      <div id="user-status">
        <!-- This will be populated by JavaScript -->
      </div>
    </div>
    
    <header>
      <h1>Movie & TV Show Tracker</h1>
    </header>
    
    <div class="category-selector" style="display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; flex-wrap: wrap;">
      <button class="category-btn active" data-category="tv"><i class="fas fa-tv"></i> TV Shows</button>
      <button class="category-btn" data-category="movies"><i class="fas fa-film"></i> Movies</button>
      <button class="category-btn" data-category="anime"><i class="fas fa-dragon"></i> Anime</button>
      <button class="category-btn" data-category="cartoons"><i class="fas fa-child"></i> Cartoons</button>
    </div>
    
    <div class="controls" style="display: flex; justify-content: space-between; margin-bottom: 20px; flex-wrap: wrap;">
      <input type="text" class="search" id="searchInput" placeholder="Search titles..." style="padding: 10px; border-radius: 20px; background-color: rgba(45, 45, 45, 0.7); color: #e0e0e0; border: 1px solid #333; width: 300px;">
      <div class="filter-group" style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
        <label for="statusFilter">Filter:</label>
        <select id="statusFilter" style="padding: 8px; border-radius: 20px; background-color: rgba(45, 45, 45, 0.7); color: #e0e0e0; border: 1px solid #333;">
          <option value="all">All</option>
          <option value="watched">Watched</option>
          <option value="watching">Currently Watching</option>
          <option value="plan">Plan to Watch</option>
          <option value="not">Not Watched</option>
          <option value="dropped">Dropped</option>
        </select>
        <button class="btn" id="resetBtn"><i class="fas fa-undo"></i> Reset Filters</button>
      </div>
    </div>

    <div class="statistics card" style="margin-bottom: 20px;">
      <div class="card-title">Your Progress Statistics</div>
      <div class="stats-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px;">
        <div class="stat-item card" style="padding: 10px;">Total Items: <span id="totalShows">0</span></div>
        <div class="stat-item card" style="padding: 10px;">Watched: <span id="watchedCount" style="color: #bb86fc;">0</span> (<span id="watchedPercent" style="color: #bb86fc;">0%</span>)</div>
        <div class="stat-item card" style="padding: 10px;">Currently Watching: <span id="watchingCount" style="color: #bb86fc;">0</span></div>
        <div class="stat-item card" style="padding: 10px;">Plan to Watch: <span id="planCount" style="color: #3700b3;">0</span></div>
        <div class="stat-item card" style="padding: 10px;">Not Started: <span id="notCount" style="color: #888888;">0</span></div>
        <div class="stat-item card" style="padding: 10px;">Dropped: <span id="droppedCount" style="color: #cf6679;">0</span></div>
      </div>
    </div>

    <div class="save-container" style="text-align: right; margin-bottom: 20px;">
      <button class="btn btn-primary" id="saveBtn"><i class="fas fa-save"></i> Save Data</button>
      <button class="btn" id="exportBtn"><i class="fas fa-file-export"></i> Export</button>
      <button class="btn" id="importBtn"><i class="fas fa-file-import"></i> Import Data</button>
    </div>

    <table id="showsTable" style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr>
          <!-- Table headers will be dynamically generated -->
        </tr>
      </thead>
      <tbody id="showsTableBody">
        <!-- Table content will be inserted here by JavaScript -->
      </tbody>
    </table>

    <!-- Share Modal -->
    <div id="shareModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 1000; justify-content: center; align-items: center;">
      <div class="card" style="width: 90%; max-width: 500px;">
        <h3 class="card-title">Share Your Thoughts</h3>
        <div style="margin-bottom: 15px;">
          <strong>Title: </strong><span id="shareTitleText"></span>
        </div>
        <div style="margin-bottom: 15px;">
          <strong>Your Rating: </strong><span id="shareRatingText"></span>/10
        </div>
        <div style="margin-bottom: 15px;">
          <label for="shareThoughts">Your Thoughts (280 characters max):</label>
          <textarea id="shareThoughts" maxlength="280"></textarea>
          <div style="text-align: right; font-size: 12px; color: #888;">
            <span id="charCount">0</span>/280
          </div>
        </div>
        <div style="text-align: right;">
          <button id="cancelShareBtn" class="btn btn-danger">Cancel</button>
          <button id="confirmShareBtn" class="btn btn-primary">Share</button>
        </div>
      </div>
    </div>

    <div class="dmca-section" style="text-align: center; margin: 30px 0 20px 0;">
      <a href="/dmca/" class="footer-link">
        <i class="fas fa-copyright"></i> DMCA & Copyright Information
      </a>
    </div>

    <!-- Use external JavaScript file instead of inline JavaScript -->
    <script src="mediatracker.js"></script>
  </div>
</body>
</html>